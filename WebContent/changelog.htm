<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="images/newlogo.ico" type="image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta type="description" content="nodeGame is a free and open source
	                              javascript framework for online, multiplayer, real-time games
	                              and experiments in the browser" />
    <meta name="keywords" content="games,node,JavaScript,synchronous,real-time,multiplayer,experiment,behavioral,social">

    <link rel="stylesheet" type="text/css" href="lib/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/style_new.css" />

    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;amp;subset=latin,latin-ext">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- <script data-cfasync="false" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->

    <title>nodeGame: Changelog</title>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body>

    <header>
      <div id="navbar">
        <ul id="navmenu">
          <li>
            <a href="index.htm" id="home-img">
              <img style="width:50px" src="images/Logo_Square_with_dots.png" id="nglogo" />
            </a>
          </li>
          <li>
          <li><a href="index.htm" id="home-menu">Home</a></li>
          <li>
            <ul id="demo-menu" style="">
              <li><a href="https://nodegamedemo.herokuapp.com" target="_blank">Demo</a>
              </li>
            </ul>
          </li>
          <li>
          <li>
            <ul id="install-menu" style="">
              <li><a href="install.htm">Install</a>
              </li>
            </ul>
          </li>
          <li>
            <ul id="documentation-menu" class="menu">
              <li><a href="https://github.com/nodeGame/nodegame/wiki" target="_blank">Docs</a>
              </li>
            </ul>
          </li>
          <li class="">
            <ul id="faq-menu" class="menu">
              <li><a href="faq.htm">FAQ</a>
              </li>
            </ul>
          </li>
          <li>
            <ul id="research-menu" class="menu">
              <li><a href="research.htm">Research</a>
              </li>
            </ul>
          </li>
          <li>
            <ul id="courses-menu" class="menu">
              <li><a href="courses.htm">Courses</a>
              </li>
            </ul>
          </li>
          <li>
            <ul id="donate-menu" class="menu">
              <li><a href="donate.htm">Donate</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <div id="header-right-floater">

        <a href="https://twitter.com/nodegameorg" class="twitter-follow-button" data-show-count="false" data-size="large" data-show-screen-name="false">Follow @nodegameorg</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

        <a class="github-button" href="https://github.com/nodeGame/nodegame" data-size="large" data-show-count="true" aria-label="Star nodeGame/nodegame on GitHub">Star</a>


        <a style="margin-top:0; top:0;" href="https://groups.google.com/forum/?fromgroups#!forum/nodegame" target="_blank"><button id="forum-button"><img style="margin-top:0; top:0; height: 20px" src="images/google-group-scaled.png" alt="Forum" /> Forum</button></a>
      </div>
    </header>


    <div id="all">

      <h2 id="title">Changelog</h2>
      <hr>

      <dl id="dl-changelog">

          <dt>7.1.0 - <span class="release-date">Release Date 11/07/2021</span>
          </dt>
          <dd>Added: widget step options can be flattened directly inside the widget object.</dd>
          <dd>Minor fixes and improvements to widgets.</dd>

          <dt>7.0.4 - <span class="release-date">Release Date 10/23/2021</span>
          </dt>
          <dd>Added: new design for survey widgets.</dd>
          <dd>Added: game sequence is decided by the game room, allowing different sequences in different treatments.</dd>
          <dd>Added: new authorization mode "external" for ids provided by a third party upon connection.</dd>
          <dd>Added: "stepId" and "stageId" added to all DONE messages (because game sequence is treatment dependent).</dd>
          <dd>Added: "treatment" added to every entry in the memory database.</dd>
          <dd>Added: client errors on DEBUG mode are displayed on overlay div.</dd>
          <dd>Added: new alias node.on.done('stageId.stepId').</dd>
          <dd>Added: new method stager.require allows splitting complex game sequences across different files.</dd>
          <dd>Added: memory database's new methods: stream, journal, loadDir, and more.</dd>
          <dd>Added: memory database supports NDJSON format.</dd>
          <dd>Added: easy export from JSON and NDJSON to csv logs and results via command-line and monitor interface.</dd>
          <dd>Added: new widgets Consent, SDO (Social Dominance Orientation), and GroupMalleability.</dd>
          <dd>Added: new option for waitroom treatment selection "treatment_latin_square".</dd>
          <dd>Added: waitroom can dispatch to remote servers.</dd>
          <dd>Added: error box with error messages directly under survey widgets.</dd>
          <dd>Improved: overhauled monitor interface based on Bootstrap 5.</dd>
          <dd>Improved: widgets .append() adjust frame heights.</dd>
          <dd>Improved: frame is displayed at once after all changes in the step callback have taken place.</dd>
          <dd>Improved: node.timer methods can be chained.</dd>
          <dd>Improved: Memory database: default header for CSV files.</dd>
          <dd>Improved: WaitScreen texts fully parameterized (thanks jjensenius3).</dd>
          <dd>Improved: cells in ChoiceTables are of equal size by default.</dd>
          <dd>Improved: VisualStage widget accept functions that return the name of the step.</dd>
          <dd>Fixed: auto scroll-up of frames between steps.</dd>
          <dd>Fixed: multiple monitors disconnect bug.</dd>
          <dd>Fixed: several minor bug fixes.</dd>
          <dd>Updated: Bootstrap 5.x (partial).</dd>
          <dd>Updated: Socket.io 4.x</dd>
          <dd>Updated: Winston 3.x</dd>
          <dd>Dropped: PhantomJS support, option --phantoms and ServerChannel.connectPhantom raise a warning.</dd>

          <dt>6.3.0 - <span class="release-date">Release Date
              04/08/2021</span>
          </dt>
          <dd>Added: stager.extendSteps and stager.extendStages</dd>
          <dd>Added: --no-games option to installer.</dd>
          <dd>Improved several widgets.</dd>
          <dd>Improved: Info Panel.</dd>
          <dd>Improved: stager.skip, stager.unskip accept arrays.</dd>
          <dd>Modified: flag missValues returned by widgets does not block stepping.</dd>
          <dd>Modified: DONE event is async with respect to node.game.step, to let all DONE listeners finish first.</dd>
          <dd>Modified: InfoPanel creation automatically adds the toggle button.</dd>
          <dd>Fixed: stager.stepBlock and stager.stageBlock no longer raise wrong errors under some special conditions.</dd>
          <dd>Fixed: renderTemplate bug when auth is on (thanks jjensenius3).</dd>
          <dd>Fixed: automatic pwd generation (thanks jjensenius3).</dd>
          <dd>Fixed: several minor bug fixes.</dd>
          <dd>Deprecated: stager.stepBlock and stager.stageBlock will only accept two parameters in future releases.</dd>

          <dt>6.2.0 - <span class="release-date">Release Date
              02/09/2021</span>
          </dt>
          <dd>WaitRoom CHOSEN_TREATMENT receives number of dispatches in callback.</dd>
          <dd>WaitRoom ROTATION_OFFSET offsets the begin of rotation when "treatment_rotate" is chosen.</dd>
          <dd>WaitRoom "treatment_rotate" option uses number of dispatches to rotate instead of room counter, because room counter is not always increased when DISPATCH_TO_SAME_ROOM option is true.</dd>

          <dt>6.2.4 - <span class="release-date">Release Date
              02/10/2021</span>
          </dt>
          <dd>Window correctly adjusts frame height including images loaded after frame is loaded.</dd>
          <dd>Fixed launcher's "default" option.</dd>

          <dt>6.2.0 - <span class="release-date">Release Date
              02/09/2021</span>
          </dt>
          <dd>WaitRoom CHOSEN_TREATMENT receives number of dispatches in callback.</dd>
          <dd>WaitRoom ROTATION_OFFSET offsets the begin of rotation when "treatment_rotate" is chosen.</dd>
          <dd>WaitRoom "treatment_rotate" option uses number of dispatches to rotate instead of room counter, because room counter is not always increased when DISPATCH_TO_SAME_ROOM option is true.</dd>

          <dt>6.1.1 - <span class="release-date">Release Date
              02/07/2021</span>
          </dt>
          <dd>WaitRoom "DISPATCH_TO_SAME_ROOM" creates a new room for every chosen treatment.</dd>
          <dd>VisualRound widget preprocess function.</dd>
          <dd>Widgets are destroyed upon exiting steps.</dd>
          <dd>Widgets can prevent scrollIntoView behavior in widget steps.</dd>
          <dd>Fixed auto scroll up at every new step for Window.</dd>
          <dd>Fixed RiskGauge Bomb method when probability less than one and bomb not found.</dd>
          <dd>Fixed hint of Slider widget</dd>
          <dd>Fixed CSS styling Info Panel.</dd>
          <dd>Fixed CSS warning in JS console.</dd>
          <dd>Minor fixes.</dd>

          <dt>6.0.3 - <span class="release-date">Release Date
              10/30/2020</span>
          </dt>

          <dd>Fixed corrupted build in 6.0.2 (thanks jjensenius3).</dd>


          <dt>6.0.2 - <span class="release-date">Release Date
              10/29/2020</span>
          </dt>

          <dd>Fixed the create-game bug missing private folder (thanks jjensenius3).</dd>


        <dt>6.0.1 - <span class="release-date">Release Date
            10/29/2020</span>
        </dt>

            <dd>Option port can be specified at command line.</dd>
            <dd>Minor bug fixes and improvements.</dd>

            <dd>Generator:
                <ul>
                    <li>Single-player template when creating new games.</li>
                    <li>Minor fixes and better error handling.</li>
                </ul>
            </dd>

            <dd>Server:
                <ul>
                    <li>GameRoom API improved new method updateWin and more
                        options for computeBonus.</li>
                    <li>Log messages containing errors are displayed to console.</li>
                    <li>Updated Socket.io and Express dependencies.</li>
                    <li>Channels can be disabled in channel.settings.js file.</li>
                </ul>

            <dd>Client:
                <ul>
                    <li>New Timer API for random events and timeouts.</li>
                    <li>New Game methods: isStep, isStage, isRound,
                        isWidgetStep, getStepId, getStageId.</li>
                    <li>Improved default reconnection mechanism:
                        role and partner automatically set, default reconnect
                        callback resending game messages from same step.</li>
                    <li>Role, partner, and session automatically added to
                        database entry.</li>
                    <li>Simplified node.done (accepts only one parameter,
                        removed backword-compatible checks).</li>
                </ul>
            </dd>

            <dd>NDDB:
                <ul>
                    <li>Improved CSV saving support with options to keep
                        files updated.</li>
                </ul>
            </dd>

            <dd>Widgets:
                <ul>
                    <li>Auto-scroll into widgets required user's action.</li>
                    <li>New method Widget.isActionRequired.</li>
                    <li>Required widgets can block node.done, even if
                        not widget-steps.<li>
                    <li>New risk-elicitation widget: RiskGauge has Bomb method.</li>
                    <li>Several improvements to existing widgets.<li>
                </ul>
            </dd>

            <dd>Window: auto-scroll up when loading a new frame.</dd>



         <dt>5.11.0 - <span class="release-date">Release Date
              08/20/2020</span></dt>
              <dd>Bug fix introduced in previous version: stage init callback executed at every step.</dd>
              <dd>Bug fix: ChoiceTable and correctChoice equal zero.</dd>
              <dd>GamePlot.getProperty updated to specify search location.</dd>

         <dt>5.10.1 - <span class="release-date">Release Date
              08/13/2020</span></dt>
              <dd>Info Query: added ?q=waitroom parameter for getting info about game rooms.</dd>
              <dd>Info Query: enabled support for any query (not just ?q=).</dd>
              <dd>VisualStage Widget: added option replaceUnderscore.</dd>
              <dd>Fixed bug when loading <a href="https://github.com/nodeGame/nodegame/issues/143" target="_blank">levels</a>.</dd>
              <dd>Several small bug fixes and improvements.</dd>

          <dt>5.9.0 - <span class="release-date">Release Date
              03/31/2020</span></dt>
              <dd>Slider widget (both for selection and real-effort task).</dd>
              <dd>DoneButton improved (prevents accidental double clicks).</dd>
              <dd>ContentBox widget improved (hint option).</dd>

        <dt>5.8.1 - <span class="release-date">Release Date
              01/30/2020</span></dt>
              <dd>Fixed autoplay client type in ultimatum game.</dd>
              <dd>ChoiceTable widget ignores "correct" in setValues method,
                  if there is no correct choice (instead of throwing an error).
              </dd>
              <dd>ChoiceTable widget option "oneTimeClick".</dd>

        <dt>5.8.0 - <span class="release-date">Release Date
            01/21/2020</span></dt>
        <dd>GameRoom.computeBonus separates AMT from and standard
          values; option headerKeys is deprecated.</dd>
        <dd>nodegame-mturk does not grant bonuses for disconnected
        players.</dd>
        <dd>Game.stepBack method is added as a central point to
          control stepping back into the game sequence.</dd>
        <dd>Game.getPreviousStep method accepts additional paramters.</dd>

        <dt>5.7.0 - <span class="release-date">Release Date
            01/17/2020</span></dt>
        <dd>GameRoom.computeBonus handles disconnected players.</dd>
        <dd>Fixed bug not executing the exit callback of widget steps.</dd>

        <dt>5.6.4 - <span class="release-date">Release Date
            01/16/2020</span></dt>
        <dd>ChoiceTableGroup widget correctly distinguishes between options
          listener and onclick.</dd>
        <dd>ChoiceTable widget improved: accepts objects as choices
        option and added sortValue option for getValues method.</dd>
        <dd>EndScreen widget displays any winning value (removed
        constrained > 0).</dd>

        <dt>5.6.3 - <span class="release-date">Release Date
            01/10/2020</span></dt>
        <dd>BackButton widget correctly hadles multiple back calls.</dd>

        <dt>5.6.2 - <span class="release-date">Release Date
            01/09/2020</span></dt>
        <dd>Client property "win" is initialized to zero in every client.</dd>
        <dd>Updated RiskGauge widget with new options "values" and
          "scale".</dd>
        <dd>Minor fixes.</dd>

        <dt>5.6.1 - <span class="release-date">Release Date
            12/20/2019</span></dt>
        <dd>Fixed experimental feature to update waiting room settings
        from monitor interface. Feature remains experimental.</dd>

        <dt>5.6.0 - <span class="release-date">Release Date
            12/15/2019</span></dt>
        <dd>New Widgets: CustomInputGroup, RiskGauge, ContentBox.</dd>
        <dd>Widgets improvements: Chat displays is user 'is typing';
        DoneButton auto-disable upon disconnection; CustomInput text
        types can exclude numbers; DisconnectBox includes more
          options and an updated display.</dd>
        <dd>New options for `gameRoom.computeBonus()` method.</dd>
        <dd>Dictator game template improved.</dd>
        <dd>Auto adjusting of frame height can be disabled.</dd>
        <dd>Done callback of widget steps does not overwrite node.done
        parameters when return value is undefined.</dd>
        <dd>Several small bug fixes.</dd>

        <dt>5.4.0 - <span class="release-date">Release Date 05/13/2019</span></dt>
        <dd>Upgraded VisualStage widget: two visualizations modes, and rounds count.</dd>
        <dd>Table class renders cells with colspan attribute.</dd>
        <dd>Home Page enabled and --default option bug fixed.</dd>

        <dt>5.3.1 - <span class="release-date">Release Date 05/07/2019</span></dt>
        <dd>Launcher option `--default` sets the default channel at startup. Channel settings `defaultChannel` has been deprecated because unreliable when multiple games are found in games folder.</dd>
        <dd>Improved installer, better handling of conflicts with pre-existing node_modules directories.</dd>
        <dd>Widget CustomInput implements setValues method with random values for testing purposes.</dd>
        <dd>Widget CustomInput widget has more custom types: 'us_state', 'us_zip'.</dd>
        <dd>Widget ChoiceManager discard hidden or disabled nested forms from the return value of `getValues`.</dd>
        <dd>Widget ChoiceManager has reset method to reset all nested forms.</dd>
        <dd>`W.cssRule` is a method to add a custom CSS rule to the current page.</dd>
        <dd>`node.widgets.append` also accepts the id of and element, in addition to the element itself.</dd>
        <dd>All "Survey" widgets (ChoiceManager, ChoiceTable, CustomInput, etc.) have options `highlight` and `markAttempt` true by default.</dd>
        <dd>Improved error messages on server.</dd>
        <dd>Typos and bug fixing.</dd>

        <dt>5.1.0 - <span class="release-date">Release Date 04/01/2019</span></dt>
	<dd>CustomInput widget.</dd>
	<dd>Widgets garbage collection.</dd>
	<dd>Improved ChoiceTable, ChoiceManager and Feedback widgets.</dd>
	<dd>Improved handling of frame height.</dd>

        <dt>5.0.1 - <span class="release-date">Release Date 03/15/2019</span></dt>
	<dd>Fixed VisualTimer.restart() bug introduced in v5.</dd>
	<dd>Server does not scan hidden directories in games folder.</dd>


        <dt>5.0.0 - <span class="release-date">Release Date 03/12/2019</span></dt>
        <dd>Several improvements to the Monitor interface, including: chat
          manager, better display of room info, and improved performance.</dd>
        <dd>Rewritten Chat widget for easier control and friendlier
          user interface</dd>
        <dd>New widgets: BackButton, BoxSelector, and DebugWall</dd>
        <dd>Updated widgets: WaitingRoom, DisconnectBox, ChoiceTable,
        ChoiceManager</dd>
        <dd>Widgets events: 'destroyed', 'collapsed', 'uncollapsed', 'hidden',
        'shown', 'disabled', 'enabled', 'highlighted', 'unhighlighted'.</dd>
        <dd>Widgets can be docked at the bottom of the page, minimized or
          closed.</dd>
        <dd>New Waiting Room execution mode `WAIT_FOR_DISPATCH` to dispatch
        following a command from the monitor interface (ideal for Lab
          experiments).
        <dd>Improved installer, more reliability checks and easier way to
        install older versions.</dd>
        <dd>Several minor fixes and improvements, see CHANGELOG files in each
        repo.</dd>


        <dt>4.3.2 - <span class="release-date">Release Date 09/30/2018</span></dt>
        <dd>Re-enabled support for games without treatment descriptions.</dd>

        <dt>4.3.0 - <span class="release-date">Release Date 09/20/2018</span></dt>
        <dd>Treatment selection in waiting room. If option
          "ALLOW_SELECT_TREATMENT" is set to true in the waiting room's
          settings, then dropdown menu allows user to select the treatment for
          the game.</dd>


        <dt>4.2.0 - <span class="release-date">Release Date 09/14/2018</span></dt>
        <dd>Improved nodegame game-create command: automatically generates generates channel files from interface, adds README and LICENSE (MIT)</dd>


        <dt>4.1.5 - <span class="release-date">Release Date 09/13/2018</span></dt>
        <dd>Fixed installer for Node version &lt; 8.x</dd>


        <dt>4.1.3 - <span class="release-date">Release Date 09/07/2018</span></dt>
        <dd>Improved installer</dd>
        <dd>Msg anti-spoofing support by default enabled on PlayerServer</dd>
        <dd>Fixed bug on Chrome with flickering scrollbar</dd>
        <dd>More options on Monitor, including display of last error</dd>
        <dd>Improved nodegame-mturk support</dd>
        <dd>Fixed tests</dd>

        <dt>4.0.4 - <span class="release-date">Release Date 07/05/2018</span></dt>
        <dd>Improved monitor interface: errors happened on clients displayed directly on Clients List widget.</dd>

        <dt>4.0.0 - <span class="release-date">Release Date 04/22/2018</span></dt>
        <dd>All available games are displayed in a grid of responsive cards in
the server home page.</dd>
        <dd>New game interface with slim header occupying less
space.</dd>
        <dd>Customizable drop-down <span class="code">InfoPanel</span> to easily
display and hide information under the header.</dd>
        <dd>New
        widgets: <span class="code">EndScreen</span>, <span class="code">Feedback</span>, <span class="code">EmailForm</span>.</dd>
        <dd>New widget features: add/remove widget rame, setTexts/Sounds,
        improved WaitingRoom</dd>
        <dd>Wait screen displays a countdown of maximum wait time.</dd>
        <dd>New <span class="code">GameRoom.computeBonus</span> method
to easily save a bonus file and send bonus to each player.</dd>
        <dd>New channel settings for controlling data directory, and noAuth
        tokens</dd>
        <dd>Client types declaration has been streamlined, no need to return a
          client type object, it is now automatically assembled from the stager
          and and the setup object.</dd>
        <dd>Views receive now the correct settings object depending on
        treatment.</dd>
        <dd>New matcher
          features: <span class="code">canMatchSameRole</span>, <span class="code">fixedRoles</span>.</dd>
        <dd>Window object has updated to the latest version
          of <span class="code">JSUS</span>, meaning that some commands to
          manipulate and create DOM elements have changed.</dd>
        <dd>Full list of
          <a href="https://github.com/nodeGame/nodegame/wiki/New-Features-v4"
          target="_blank">new features</a>
          and <a href="https://github.com/nodeGame/nodegame/wiki/Migratiing-To-v4"
          target="_blank">migration guidelines</a>.</dd>
      </dl>
    </div>
    <footer></footer>
  </body>
  <script type="text/javascript">
    // Analytics.
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34089835-3']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</html>
